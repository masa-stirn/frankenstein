<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Young Frankenstein Fart</title>

    <style>

        .brick{
            width: 100vw;
            background-image: url(../images/bg.svg);
            height: 88vh;
            position: absolute;
            top:0;
            left:0;
            background-repeat: no-repeat;
            background-size: cover;
            z-index: -100;
        }
        .floor{
            background-image: url(../images/floor.jpg);
            width: 100vw;
            height: 12vh;
            position: absolute;
            bottom: 0;
            left: 0;
            /*background-color: darkgray;*/
            z-index: -100;
        }
        body {
            width: 100vw;
            opacity: 0;
            animation: show 1.5s forwards;
        }
        @keyframes show {
            to{
                opacity: 1;
            }
        }


        .circle:before {
    content:" ";
    position:absolute;
    width: 1000px;
    height: 1000px;
    top: 0px;
    left: 0px;
    bottom: 0px;
    right: 0px;
    margin: auto;
    border-radius:50%;
    box-shadow:0 0px 0 850px #000;
    opacity: 0;
    animation: growcircle 1.5s linear;
    z-index: 1000;
}
        @keyframes growcircle {
            50%{
                opacity: 0.8;
            }
            100%{
                opacity: 1;
                width: 250px;
                height: 250px;
            }
        }

        .circle2:before {
    content:" ";
    position:absolute;
    width: 1000px;
    height: 1000px;
    top: 0px;
    left: 0px;
    bottom: 0px;
    right: 0px;
    margin: auto;
    border-radius:50%;
    box-shadow:0 0px 0 850px #000;
    opacity: 0;
    animation: growcircle2 1.5s linear reverse;
    z-index: 1000;
}
        @keyframes growcircle2 {
            0%{
                opacity:0;
            }
            60%{
                opacity: 1;
            }
            100%{
                opacity: 1;
                width: 10px;
                height: 10px;
            }
        }
        .creature {
            position: absolute;
            background: gray;
            width: 55vw;
            height:70vh;
            bottom: 0;
            left: 0;
            right:0;
            margin: auto;
        }

        .creatureglow{
    animation: heglow 2s forwards;
}

@keyframes heglow{
    100%{
        filter: drop-shadow(0px 5px 18px rgba(40, 0, 255, 1));
    }
}

        .creature2 {
            position: absolute;
            background: darkgray;
            width: 55vw;
            height:80vh;
            bottom: 0;
            left: 0;
            right:0;
            margin: auto;
        }

    </style>
</head>

<body>
    <div class="mylens"></div>
    <div class="brick"></div>
    <div class="floor"></div>
    <div class="creature"></div>
    <div class="creature2"></div>

    <audio class="givelife">
            <source src="audio/life_audio.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
    </audio>
    <audio class="heart" loop>
            <source src="audio/heart.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
    </audio>
    <audio class="breathing">
            <source src="audio/" type="audio/mpeg">
                Your browser does not support the audio element.
    </audio>
    <audio class="audfart">
            <source src="audio/fart.wav" type="audio/mpeg">
                Your browser does not support the audio element.
    </audio>
    <audio class="audmmm">
            <source src="audio/mmmm.wav" type="audio/mpeg">
                Your browser does not support the audio element.
    </audio>
    <script>
        let myLens = document.querySelector(".mylens");
        let creature = document.querySelector(".creature");
        let creature2 = document.querySelector(".creature2");
        let audfart = document.querySelector(".audfart")

        function pageLoad(){
        myLens.classList.add("circle2");
        }
        myLens.addEventListener("animationend", spriteFart)

        function spriteFart(){
            console.log("remove circle2");
            myLens.classList.remove("circle2")
            creature.classList.add("creatureglow");
            let givelife = document.querySelector(".givelife")
            givelife.play();
            givelife.addEventListener("ended", function(){
            creature.classList.remove("creatureglow");
            let heart = document.querySelector(".heart");
            heart.play();
            creature.classList.add("hide");
            creature2.classList.remove("hide")
            setTimeout(function(){
            creature.classList.add("hide");
            creature2.classList.remove("hide")
            }, 100);
            })

            /*creature.classList.add(".creature-sprite")*/
            setTimeout(function(){
            audfart.play();
            }, 20500);
            /*setTimeout(function(){
            let audmmm = document.querySelector(".audmmm")
            audmmm.play();
            }, 3900);
            setTimeout(function(){
            let audmine = document.querySelector(".audmine")
            audmine.play();
            }, 4900); */
        }

        audfart.addEventListener('ended', lens);

        function lens() {
            console.log("add circle");
        myLens.classList.add("circle")
           setTimeout(function(){
                window.location.href = "lab2.html";
            }, 1500);
        }

        pageLoad();

    </script>

    </body>
</html>
